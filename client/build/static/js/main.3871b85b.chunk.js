(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{130:function(e,t,r){},161:function(e,t,r){"use strict";r.r(t);var a=r(0),n=r(15),c=r.n(n),i=(r(130),r(10)),s=r(239),o=r(208),l=r(12),d=r(22),u=r(109),j=r(238),p=r(80),b=r(221),h=r(7),O=r(50),m=r(103),x=r(104),g="PRODUCTS_LIST_REQUEST",f="PRODUCTS_LIST_SUCCESS",y="PRODUCTS_LIST_FAIL",v="PRODUCT_DETAILS_REQUEST",S="PRODUCT_DETAILS_SUCCESS",E="PRODUCT_DETAILS_FAIL",_="CREATE_PRODUCT_REQUEST",I="CREATE_PRODUCT_SUCCESS",C="CREATE_PRODUCT_FAIL",D="CREATE_PRODUCT_RESET",R="DELETE_PRODUCT_REQUEST",T="DELETE_PRODUCT_SUCCESS",P="DELETE_PRODUCT_FAIL",A="DELETE_PRODUCT_RESET",U="UPDATE_PRODUCT_REQUEST",w="UPDATE_PRODUCT_SUCCESS",L="UPDATE_PRODUCT_FAIL",k="UPDATE_PRODUCT_RESET",W="ADD_REVIEW_REQUEST",N="ADD_REVIEW_SUCCESS",F="ADD_REVIEW_FAIL",z="ADD_REVIEW_RESET",q=r(56),B=r(23),M="ADD_CART_ITEM",Q="REMOVE_CART_ITEM",G="ADD_SHIPPING_ADDRESS_REQUEST",Y="ADD_SHIPPING_ADDRESS_SUCCESS",J="ADD_PAYMENT_METHOD_SUCCESS",V="USER_LOGIN_REQUEST",H="USER_LOGIN_SUCCESS",Z="USER_LOGIN_FAIL",$="USER_LOGOUT_SUCCESS",K="USER_REGISTER_REQUEST",X="USER_REGISTER_SUCCESS",ee="USER_REGISTER_FAIL",te="USER_REGISTER_RESET",re="USER_PROFILE_DETAILS_REQUEST",ae="USER_PROFILE_DETAILS_SUCCESS",ne="USER_PROFILE_DETAILS_FAIL",ce="USER_PROFILE_DETAILS_RESET",ie="USER_PROFILE_UPDATE_REQUEST",se="USER_PROFILE_UPDATE_SUCCESS",oe="USER_PROFILE_UPDATE_SUCCESS",le="USER_PROFILE_UPDATE_RESET",de="USERS_LIST_REQUEST",ue="USERS_LIST_SUCCESS",je="USERS_LIST_FAIL",pe="USER_DETAILS_REQUEST",be="USER_DETAILS_SUCCESS",he="USER_DETAILS_FAIL",Oe="USER_UPDATE_REQUEST",me="USER_UPDATE_SUCCESS",xe="USER_UPDATE_FAIL",ge="USER_UPDATE_RESET",fe="PLACE_NEW_ORDER_REQUEST",ye="PLACE_NEW_ORDER_SUCCESS",ve="PLACE_NEW_ORDER_FAIL",Se="ORDER_DETAILS_REQUEST",Ee="ORDER_DETAILS_SUCCESS",_e="ORDER_DETAILS_FAIL",Ie="UPDATE_DELIVERY_REQUEST",Ce="UPDATE_DELIVERY_SUCCESS",De="UPDATE_DELIVERY_FAIL",Re="UPDATE_DELIVERY_RESET",Te="USER_ORDERS_LIST_REQUEST",Pe="USER_ORDERS_LIST_SUCCESS",Ae="USER_ORDERS_LIST_SUCCESS",Ue="ALL_ORDERS_LIST_REQUEST",we="ALL_ORDERS_LIST_SUCCESS",Le="ALL_ORDERS_LIST_FAIL",ke=Object(O.combineReducers)({productsList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{products:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case g:return{loading:!0};case f:return{loading:!1,products:t.payload};case y:return{loading:!1,error:t.payload};default:return e}},productDetails:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{product:{reviews:[]}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case v:return{loading:!0};case S:return{loading:!1,product:t.payload};case E:return{loading:!1,error:t.payload};default:return e}},reviews:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case W:return{loading:!0};case N:return{loading:!1,success:!0};case F:return{loading:!1,error:t.payload};case z:return{};default:return e}},createNewProduct:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case _:return{loading:!0};case I:return{loading:!1,success:!0,newProduct:t.payload};case C:return{loading:!1,error:t.payload};case D:return{};default:return e}},deleteProduct:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case R:return{loading:!0};case T:return{loading:!0,success:!0};case P:return{loading:!1,error:t.payload};case A:return{};default:return e}},updateProduct:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case U:return{loading:!0};case w:return{loading:!0,success:!0,updatedProduct:t.payload};case L:return{loading:!1,error:t.payload};case k:return{};default:return e}},cart:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{cartItems:[],shippingAddress:{},payment:""},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case M:var r=t.payload,a=e.cartItems.find((function(e){return e._id===r._id}));return a?Object(B.a)(Object(B.a)({},e),{},{cartItems:e.cartItems.map((function(e){return e._id===r._id?r:e}))}):Object(B.a)(Object(B.a)({},e),{},{cartItems:[].concat(Object(q.a)(e.cartItems),[r])});case Q:return Object(B.a)(Object(B.a)({},e),{},{cartItems:e.cartItems.filter((function(e){return e._id!==t.payload}))});case G:return Object(B.a)(Object(B.a)({},e),{},{loading:!0});case Y:return Object(B.a)(Object(B.a)({},e),{},{loading:!1,shippingAddress:t.payload});case J:return Object(B.a)(Object(B.a)({},e),{},{loading:!1,payment:t.payload});default:return e}},userLogin:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{userInfo:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case V:return{loading:!0};case H:return{loading:!1,userInfo:t.payload};case Z:return{loading:!1,error:t.payload};case $:return{};default:return e}},userRegister:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case K:return{loading:!0};case X:return{loading:!1,success:!0,registeredUser:t.payload};case ee:return{loading:!1,error:t.payload};case te:return{};default:return e}},userProfileDetails:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{userDetails:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case re:return Object(B.a)(Object(B.a)({},e),{},{loading:!0});case ae:return{loading:!1,userDetails:t.payload};case ne:return{loading:!1,error:t.payload};case ce:return{userDetails:{}};default:return e}},userProfileUpdate:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ie:return{loading:!0};case se:return{loading:!1,success:!0};case oe:return{loading:!1,error:t.payload};case le:return{};default:return e}},userDetails:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{user:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case pe:return Object(B.a)(Object(B.a)({},e),{},{loading:!0});case be:return{loading:!1,user:t.payload};case he:return{loading:!1,error:t.payload};default:return e}},updateUser:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{updatedUser:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Oe:return{loading:!0};case me:return{loading:!1,updatedUser:t.payload};case xe:return{loading:!1,error:t.payload};case ge:return{};default:return e}},listUsers:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{users:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case de:return{loading:!0};case ue:return{loading:!1,users:t.payload};case je:return{loading:!1,error:t.payload};default:return e}},userOrdersList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{orders:[],shippingAddress:{},orderItems:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Te:return{loading:!0};case Pe:return{loading:!1,orders:t.payload};case Ae:return{loading:!1,error:t.payload};default:return e}},placeNewOrder:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{orderItems:[],shippingAddress:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case fe:return{loading:!0};case ye:return{loading:!1,newOrder:t.payload};case ve:return{loading:!1,error:t.payload};default:return e}},orderDetails:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{loading:!0,orderItems:[],shippingAddress:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Se:return Object(B.a)(Object(B.a)({},e),{},{loading:!0});case Ee:return{loading:!1,order:t.payload};case _e:return{loading:!1,error:t.payload};default:return e}},orderDelivery:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ie:return{loading:!0};case Ce:return{loading:!1,success:!0};case De:return{loading:!1,error:t.payload};case Re:return{};default:return e}},ordersList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{orders:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ue:return{loading:!0};case we:return{loading:!1,orders:t.payload};case Le:return{loading:!1,error:t.payload};default:return e}}}),We={userLogin:{userInfo:localStorage.getItem("userInfo")?JSON.parse(localStorage.getItem("userInfo")):null},cart:{cartItems:localStorage.getItem("cartItems")?JSON.parse(localStorage.getItem("cartItems")):[],shippingAddress:localStorage.getItem("shippingAddress")?JSON.parse(localStorage.getItem("shippingAddress")):{},payment:localStorage.getItem("paymentMethod")?localStorage.getItem("paymentMethod"):""}},Ne=[m.a],Fe=Object(O.createStore)(ke,We,Object(x.composeWithDevTools)(O.applyMiddleware.apply(void 0,Ne))),ze=r(110),qe=r(205),Be=r(206),Me=r(207),Qe=r(209),Ge=r(245),Ye=r(164),Je=r(66),Ve=r(240),He=r(211),Ze=r(165),$e=r(247),Ke=r(199),Xe=r(163),et=r(200),tt=r(196),rt=r(1),at=Object(tt.a)((function(e){return{appDrawer:{minWidth:220,fontSize:"1.1rem",fontWeight:"500"}}})),nt=function(e){var t=e.open,r=e.close,a=at();return Object(rt.jsx)($e.a,{open:t,onClose:r,children:Object(rt.jsxs)(Ke.a,{disablePadding:!0,className:a.appDrawer,children:[Object(rt.jsx)(Xe.a,{component:Je.a,variant:"h4",children:"CartZet"}),Object(rt.jsxs)(Xe.a,{button:!0,onClick:r,component:l.b,to:"/login",children:[Object(rt.jsx)(et.a,{}),"\xa0Sign In"]})]})})},ct=r(210),it=r(212),st=r(213),ot=r(214),lt=r(57),dt=r(249),ut=r(204),jt=function(e){var t,r=e.history,n=Object(a.useState)(""),c=Object(i.a)(n,2),s=c[0],o=c[1];return Object(rt.jsxs)(Ve.a,{component:"form",onSubmit:function(e){e.preventDefault(),s.trim()?r.push("/search/".concat(s)):r.push("/")},display:"flex",mb:1,flexDirection:"row",children:[Object(rt.jsx)(dt.a,{placeholder:"Search...",label:"Search",variant:"outlined",style:{color:"white",borderColor:"#fff"},type:"text",value:s,onChange:function(e){return o(e.target.value)},margin:"dense",required:!0,fullWidth:!0}),Object(rt.jsx)(Ye.a,(t={color:"inherit"},Object(lt.a)(t,"color","primary"),Object(lt.a)(t,"type","submit"),Object(lt.a)(t,"children",Object(rt.jsx)(ut.a,{})),t))]})},pt=r(9),bt=r.n(pt),ht=r(16),Ot=r(18),mt=r.n(Ot),xt=function(e){var t=e.changeMode,r=Object(h.b)(),n=Object(a.useState)(null),c=Object(i.a)(n,2),s=c[0],d=c[1],u=Boolean(s),j=function(e){return d(e.currentTarget)},p=function(){return d(null)},b=Object(h.c)((function(e){return e.cart})).cartItems,O=Object(a.useState)(!1),m=Object(i.a)(O,2),x=m[0],g=m[1],f=Object(h.c)((function(e){return e.userLogin})).userInfo,y=Object(rt.jsxs)(ze.a,{anchorEl:s,id:"profile-menu",keepMounted:!0,open:u,onClose:p,children:[Object(rt.jsx)(qe.a,{component:l.b,onClick:p,to:"/profile",children:"My Profile"}),Object(rt.jsx)(qe.a,{onClick:function(){r(function(){var e=Object(ht.a)(bt.a.mark((function e(t){return bt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:localStorage.removeItem("userInfo"),t({type:$}),t({type:ce});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),p()},children:"Logout"}),f&&f.isAdmin&&Object(rt.jsxs)("div",{children:[Object(rt.jsx)(Be.a,{}),Object(rt.jsx)(qe.a,{disabled:!0,children:"Admin Only"}),Object(rt.jsx)(qe.a,{component:l.b,to:"/admin/products",onClick:p,children:"Products"}),Object(rt.jsx)(qe.a,{component:l.b,to:"/admin/users",onClick:p,children:"Users"}),Object(rt.jsx)(qe.a,{component:l.b,to:"/admin/orders",onClick:p,children:"Orders"})]})]});return Object(rt.jsxs)(rt.Fragment,{children:[Object(rt.jsx)(Me.a,{color:"primary",position:"relative",children:Object(rt.jsx)(o.a,{maxWidth:"lg",children:Object(rt.jsxs)(Qe.a,{children:[Object(rt.jsxs)(Ge.a,{xsUp:!0,children:[Object(rt.jsx)(Ye.a,{edge:"start","aria-label":"menu",color:"inherit",style:{marginRight:6},onClick:function(){return g(!x)},children:Object(rt.jsx)(ct.a,{})}),Object(rt.jsx)(nt,{open:x,close:function(){return g(!x)}})]}),Object(rt.jsx)(Je.a,{variant:"h5",component:l.b,to:"/",style:{color:"inherit",textDecoration:"none"},children:"CartZet"}),Object(rt.jsxs)(Ve.a,{ml:"auto",children:[Object(rt.jsx)(Ye.a,{color:"inherit","aria-label":"cart",component:l.b,to:"/cart",children:Object(rt.jsx)(He.a,{badgeContent:b.length>0?b.length:"0",color:"secondary",children:Object(rt.jsx)(it.a,{})})}),Object(rt.jsx)(Ye.a,{color:"inherit","arial-label":"mode",onClick:t,children:Object(rt.jsx)(st.a,{})}),!f&&Object(rt.jsxs)(rt.Fragment,{children:[Object(rt.jsx)(Ge.a,{mdDown:!0,children:Object(rt.jsxs)(Ze.a,{color:"inherit",size:"large",style:{marginLeft:4},component:l.b,to:"/login",children:[Object(rt.jsx)(et.a,{}),"\xa0 Sign In"]})}),Object(rt.jsx)(Ge.a,{lgUp:!0,children:Object(rt.jsx)(Ye.a,{color:"inherit",component:l.b,to:"/login",children:Object(rt.jsx)(et.a,{})})})]}),f&&Object(rt.jsx)(Ge.a,{mdDown:!0,children:Object(rt.jsxs)(Ze.a,{color:"inherit",size:"large",style:{marginLeft:4},onClick:j,children:[Object(rt.jsx)(et.a,{}),"\xa0 ",f.name.split(" ")[0]]})}),f&&Object(rt.jsx)(Ge.a,{lgUp:!0,children:Object(rt.jsx)(Ye.a,{color:"inherit",onClick:j,children:Object(rt.jsx)(ot.a,{})})})]})]})})}),y]})},gt=function(){var e=new Date;return Object(rt.jsx)(Ve.a,{p:3,mt:5,textAlign:"center",children:Object(rt.jsxs)(Je.a,{children:["Copyright \xa9 CartZet ",e.getFullYear()]})})},ft=r(216),yt=r(217),vt=r(218),St=r(219),Et=r(220),_t=r(215),It=function(){return Object(rt.jsx)(Ve.a,{display:"flex",justifyContent:"center",children:Object(rt.jsx)(_t.a,{size:170,thickness:1})})},Ct=function(){return Object(rt.jsx)(rt.Fragment,{})},Dt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return function(){var t=Object(ht.a)(bt.a.mark((function t(r){var a,n;return bt.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r({type:g}),t.next=4,mt.a.get("/api/products?keyword=".concat(e));case 4:a=t.sent,n=a.data,r({type:f,payload:n}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),r({type:y,payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()},Rt=function(e){return function(){var t=Object(ht.a)(bt.a.mark((function t(r){var a,n;return bt.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r({type:v}),t.next=4,mt.a.get("/api/products/".concat(e));case 4:a=t.sent,n=a.data,r({type:S,payload:n}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),r({type:E,payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()},Tt=function(e){var t=e.match,r=e.history,n=t.params.keyword,c=Object(h.b)(),i=Object(h.c)((function(e){return e.productsList})),s=i.loading,o=i.products,d=i.error;return Object(a.useEffect)((function(){c(Dt(n))}),[c,n]),s?Object(rt.jsx)(It,{}):d?Object(rt.jsx)("p",{children:d}):Object(rt.jsxs)(Ve.a,{mt:2,display:"flex",flexDirection:"column",children:[Object(rt.jsx)(ft.a,{container:!0,justify:"center",children:Object(rt.jsx)(ft.a,{item:!0,lg:6,xs:12,children:Object(rt.jsx)(jt,{history:r})})}),Object(rt.jsx)(Je.a,{variant:"h3",style:{marginBottom:14},children:"Products"}),Object(rt.jsx)(ft.a,{container:!0,spacing:2,children:o.map((function(e){return Object(rt.jsx)(ft.a,{md:3,sm:6,item:!0,children:Object(rt.jsx)(yt.a,{style:{height:"100%"},children:Object(rt.jsxs)(vt.a,{component:l.b,to:"/product/".concat(e._id),style:{height:"100%"},children:[Object(rt.jsx)(St.a,{component:"img",alt:e.name,image:e.image,title:e.name}),Object(rt.jsxs)(Et.a,{children:[Object(rt.jsx)(Je.a,{children:e.name}),Object(rt.jsx)(Ct,{value:e.rating}),Object(rt.jsxs)(Je.a,{variant:"h5",children:["$",e.price]})]})]})})},e._id)}))})]})},Pt=function(e){var t=e.children;return Object(rt.jsx)(ft.a,{container:!0,justify:"center",component:Ve.a,mt:10,children:Object(rt.jsx)(ft.a,{lg:4,md:5,item:!0,children:t})})},At=r(243),Ut=function(e){var t=e.history,r=(e.location,Object(h.b)()),n=Object(a.useState)(""),c=Object(i.a)(n,2),s=c[0],o=c[1],d=Object(a.useState)(""),u=Object(i.a)(d,2),j=u[0],p=u[1],O=Object(h.c)((function(e){return e.userLogin})),m=O.loading,x=O.userInfo,g=O.error;Object(a.useEffect)((function(){x&&x.name?t.push("/"):t.push("/login")}),[x,t]);return Object(rt.jsxs)(Pt,{children:[Object(rt.jsx)(Je.a,{variant:"h3",children:"Sign In"}),g&&Object(rt.jsx)(At.a,{style:{marginTop:12},severity:"error",children:g}),Object(rt.jsxs)(Ve.a,{component:"form",mt:1,onSubmit:function(e){var t;e.preventDefault(),r((t={email:s,password:j},function(){var e=Object(ht.a)(bt.a.mark((function e(r){var a,n,c;return bt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r({type:V}),a={headers:{"Content-Type":"application/json"}},e.next=5,mt.a.post("/api/users/login",t,a);case 5:n=e.sent,c=n.data,r({type:H,payload:c}),localStorage.setItem("userInfo",JSON.stringify(c)),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),r({type:Z,payload:e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message});case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}()))},children:[Object(rt.jsx)(dt.a,{placeholder:"Enter email",label:"Email",variant:"outlined",color:"primary",fullWidth:!0,type:"email",margin:"normal",value:s,onChange:function(e){return o(e.target.value)},required:!0}),Object(rt.jsx)(dt.a,{placeholder:"Enter password",label:"Password",variant:"outlined",color:"primary",type:"password",fullWidth:!0,margin:"normal",value:j,onChange:function(e){return p(e.target.value)},required:!0}),Object(rt.jsxs)(Ze.a,{type:"submit",variant:"contained",color:"primary",fullWidth:!0,size:"large",style:{marginTop:10},disabled:m,children:[m&&Object(rt.jsx)(_t.a,{color:"inherit",size:20}),"\xa0\xa0 Login"]}),Object(rt.jsxs)(Je.a,{style:{marginTop:8},children:["Don't Have Account?"," ",Object(rt.jsx)(l.b,{to:"/register",style:{color:b.a[500]},children:"Register"})," "]})]})]})},wt=function(e){var t=e.history,r=Object(h.b)(),n=Object(a.useState)(""),c=Object(i.a)(n,2),s=c[0],o=c[1],l=Object(a.useState)(""),d=Object(i.a)(l,2),u=d[0],j=d[1],p=Object(a.useState)(""),b=Object(i.a)(p,2),O=b[0],m=b[1],x=Object(a.useState)(""),g=Object(i.a)(x,2),f=g[0],y=g[1],v=Object(a.useState)(""),S=Object(i.a)(v,2),E=S[0],_=S[1],I=Object(h.c)((function(e){return e.userLogin})).userInfo,C=Object(h.c)((function(e){return e.userRegister})),D=C.loading,R=C.success,T=C.error;Object(a.useEffect)((function(){I&&t.push("/")}),[I,t]);return Object(rt.jsxs)(Pt,{children:[Object(rt.jsx)(Je.a,{variant:"h3",children:"Register"}),T&&Object(rt.jsx)(At.a,{severity:"error",style:{marginTop:12},children:T}),E&&Object(rt.jsx)(At.a,{severity:"error",style:{marginTop:12},children:E}),R&&Object(rt.jsx)(At.a,{severity:"success",style:{marginTop:12},children:"Successfully registered, Please login!"}),Object(rt.jsxs)(Ve.a,{component:"form",mt:1,onSubmit:function(e){var t;e.preventDefault(),O!==f?_("Password do not match!"):r((t={name:s,email:u,password:O},function(){var e=Object(ht.a)(bt.a.mark((function e(r){var a,n,c;return bt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r({type:K}),a={headers:{"Content-Type":"application/json"}},e.next=5,mt.a.post("/api/users/register",t,a);case 5:n=e.sent,c=n.data,r({type:X,payload:c}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),r({type:ee,payload:e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message});case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}()))},children:[Object(rt.jsx)(dt.a,{placeholder:"Enter name",label:"Full Name",variant:"outlined",color:"primary",fullWidth:!0,type:"text",margin:"normal",value:s,onChange:function(e){return o(e.target.value)},required:!0}),Object(rt.jsx)(dt.a,{placeholder:"Enter email",label:"Email",variant:"outlined",color:"primary",fullWidth:!0,type:"email",margin:"normal",value:u,onChange:function(e){return j(e.target.value)},required:!0}),Object(rt.jsx)(dt.a,{placeholder:"Enter password",label:"Password",variant:"outlined",color:"primary",type:"password",fullWidth:!0,margin:"normal",value:O,onChange:function(e){return m(e.target.value)},required:!0}),Object(rt.jsx)(dt.a,{placeholder:"Confirm password",label:"Confirm Password",variant:"outlined",color:"primary",type:"password",fullWidth:!0,margin:"normal",value:f,onChange:function(e){return y(e.target.value)},required:!0}),Object(rt.jsxs)(Ze.a,{type:"submit",variant:"contained",color:"primary",fullWidth:!0,size:"large",style:{marginTop:10},disabled:D,children:[D&&Object(rt.jsx)(_t.a,{color:"inherit",size:20}),"\xa0\xa0 Register"]})]})]})},Lt=r(203),kt=r(251),Wt=r(244),Nt=function(e){var t=e.history,r=e.match,n=Object(h.b)(),c=Object(a.useState)(1),s=Object(i.a)(c,2),o=s[0],d=s[1],u=Object(a.useState)(0),j=Object(i.a)(u,2),p=j[0],b=j[1],O=Object(a.useState)(""),m=Object(i.a)(O,2),x=m[0],g=m[1],f=r.params.id,y=Object(h.c)((function(e){return e.productDetails})),v=y.loading,S=y.product,E=y.error,_=Object(h.c)((function(e){return e.userLogin})).userInfo,I=Object(h.c)((function(e){return e.reviews})),C=I.loading,D=I.success,R=I.error;Object(a.useEffect)((function(){n({type:z}),D&&(n(Rt(f)),b(0),g("")),n(Rt(f))}),[n,f,D]);return v?Object(rt.jsx)(It,{}):E?Object(rt.jsx)("p",{children:E}):Object(rt.jsxs)(Ve.a,{mt:3,children:[Object(rt.jsx)(Ze.a,{style:{marginBottom:20},variant:"outlined",color:"default",component:l.b,to:"/",children:"Go Back"}),Object(rt.jsxs)(ft.a,{container:!0,spacing:4,children:[Object(rt.jsxs)(ft.a,{item:!0,md:6,children:[Object(rt.jsx)(Ve.a,{component:"img",alt:S.name,src:S.image,title:S.name,maxWidth:"100%",mb:2}),Object(rt.jsxs)(Je.a,{children:[S.brand,", ",S.category]})]}),Object(rt.jsx)(ft.a,{item:!0,md:3,children:Object(rt.jsxs)(Ke.a,{children:[Object(rt.jsx)(Xe.a,{children:Object(rt.jsx)(Je.a,{variant:"h5",children:S.name})}),Object(rt.jsx)(Be.a,{}),Object(rt.jsx)(Xe.a,{children:Object(rt.jsxs)(Je.a,{variant:"h5",children:["Price: $",S.price]})}),Object(rt.jsx)(Be.a,{}),Object(rt.jsx)(Xe.a,{children:Object(rt.jsxs)(Je.a,{children:["Ratings: ",Number(S.rating).toFixed(1)]})}),Object(rt.jsx)(Xe.a,{style:{fontSize:"1.1rem",textAlign:"justify"},children:S.description})]})}),Object(rt.jsx)(ft.a,{item:!0,md:3,xs:12,children:Object(rt.jsxs)(Ke.a,{children:[Object(rt.jsx)(Xe.a,{children:Object(rt.jsx)(Je.a,{variant:"h5",children:"Order"})}),Object(rt.jsx)(Be.a,{}),Object(rt.jsx)(Xe.a,{children:Object(rt.jsxs)(Je.a,{children:["Status:"," ",0===S.countInStock?"Out of stock":"In Stock"]})}),Object(rt.jsx)(Be.a,{}),Object(rt.jsx)(Xe.a,{children:S.countInStock>0&&Object(rt.jsxs)(Lt.a,{variant:"outlined",fullWidth:!0,children:[Object(rt.jsx)(kt.a,{id:"qty",children:"Qunatity"}),Object(rt.jsx)(Wt.a,{labelId:"qty",value:o,onChange:function(e){return d(e.target.value)},id:"qty",label:"Qunatity",children:Object(q.a)(Array(S.countInStock).keys()).map((function(e){return Object(rt.jsx)(qe.a,{value:e+1,children:e+1},e+1)}))})]})}),Object(rt.jsx)(Be.a,{}),Object(rt.jsx)(Xe.a,{children:Object(rt.jsx)(Ze.a,{variant:"contained",color:"primary",size:"large",disabled:0===S.countInStock,fullWidth:!0,onClick:function(){t.push("/cart/".concat(f,"?qty=").concat(o))},children:"Add To Cart"})})]})}),Object(rt.jsx)(ft.a,{item:!0,lg:5,md:6,xs:12,children:Object(rt.jsxs)(Ke.a,{children:[Object(rt.jsx)(Xe.a,{children:Object(rt.jsx)(Je.a,{variant:"h5",children:"Reviews"})}),Object(rt.jsx)(Xe.a,{style:{marginBottom:10},children:_?Object(rt.jsxs)(Ve.a,{component:"form",onSubmit:function(e){var t,r;e.preventDefault(),n((t=f,r={rating:p,comment:x},function(){var e=Object(ht.a)(bt.a.mark((function e(a,n){var c,i,s,o,l;return bt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a({type:W}),c=n(),i=c.userLogin.userInfo,s={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(i.token)}},e.next=6,mt.a.post("/api/products/".concat(t,"/review"),r,s);case 6:o=e.sent,l=o.data,a({type:N,payload:l}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),a({type:F,payload:e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message});case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,r){return e.apply(this,arguments)}}()))},width:"100%",children:[Object(rt.jsxs)(Lt.a,{variant:"outlined",fullWidth:!0,children:[Object(rt.jsx)(kt.a,{id:"qty",children:"Rating"}),Object(rt.jsxs)(Wt.a,{labelId:"qty",value:p,onChange:function(e){return b(e.target.value)},id:"qty",label:"Rating",children:[Object(rt.jsx)(qe.a,{value:1,children:"Poor"}),Object(rt.jsx)(qe.a,{value:2,children:"Fair"}),Object(rt.jsx)(qe.a,{value:3,children:"Good"}),Object(rt.jsx)(qe.a,{value:4,children:"Better"}),Object(rt.jsx)(qe.a,{value:5,children:"Excellent"})]})]}),Object(rt.jsx)(dt.a,{placeholder:"Enter Comment",label:"Comment",variant:"outlined",color:"primary",type:"text",fullWidth:!0,margin:"normal",multiline:!0,rows:4,value:x,onChange:function(e){return g(e.target.value)},required:!0}),R&&Object(rt.jsx)(At.a,{severity:"error",children:R}),Object(rt.jsx)(Ze.a,{variant:"contained",color:"primary",type:"submit",style:{marginTop:10},disabled:C,children:C?Object(rt.jsxs)(rt.Fragment,{children:[Object(rt.jsx)(_t.a,{size:20,color:"inherit"}),"\xa0","Submitting review...."]}):"Submit review"})]}):Object(rt.jsxs)(Ve.a,{display:"flex",flexDirection:"column",children:[Object(rt.jsx)(Je.a,{style:{marginBottom:8},children:"Please login to submit review"}),Object(rt.jsx)(Ze.a,{variant:"contained",color:"primary",type:"submit",component:l.b,to:"/login",children:"Login"})]})}),0===S.reviews.length?Object(rt.jsx)(At.a,{severity:"info",children:"No reviews yet"}):S.reviews.map((function(e){return Object(rt.jsxs)(Xe.a,{children:[Object(rt.jsxs)(Ve.a,{display:"flex",flexDirection:"column",children:[Object(rt.jsx)(Je.a,{variant:"h6",style:{color:"grey"},children:e.name}),Object(rt.jsx)(Je.a,{children:"Rating: ".concat(e.rating,"/5")}),Object(rt.jsx)(Je.a,{paragraph:!0,children:"Comment: ".concat(e.comment)})]}),Object(rt.jsx)(Be.a,{variant:"fullWidth"})]},e._id)}))]})})]})]})},Ft=r(222),zt=r(252),qt=r(223),Bt=r(224),Mt=function(e,t){return function(){var r=Object(ht.a)(bt.a.mark((function r(a,n){var c,i;return bt.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,mt.a.get("/api/products/".concat(e));case 2:c=r.sent,i=c.data,a({type:M,payload:{product:i._id,name:i.name,price:i.price,image:i.image,brand:i.brand,countInStock:i.countInStock,qty:t}}),localStorage.setItem("cartItems",JSON.stringify(n().cart.cartItems));case 6:case"end":return r.stop()}}),r)})));return function(e,t){return r.apply(this,arguments)}}()},Qt=r(225),Gt=function(e){var t=e.location,r=e.match,n=Object(h.b)(),c=r.params.id,i=t.search?Number(t.search.split("=")[1]):1,s=Object(h.c)((function(e){return e.cart})).cartItems,o=function(e){return n(function(e){return function(){var t=Object(ht.a)(bt.a.mark((function t(r,a){return bt.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r({type:Q,payload:e}),localStorage.setItem("cartItems",JSON.stringify(a().cart.cartItems));case 2:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}()}(e))};return Object(a.useEffect)((function(){c&&n(Mt(c,i))}),[n,c,i]),Object(rt.jsxs)(Ve.a,{mt:3,children:[Object(rt.jsx)(Ze.a,{variant:"outlined",color:"default",component:l.b,to:"/",children:"Go Back"}),Object(rt.jsx)(Je.a,{variant:"h3",style:{marginBottom:14,marginTop:14},children:"Cart"}),Object(rt.jsxs)(ft.a,{container:!0,children:[Object(rt.jsx)(ft.a,{item:!0,lg:9,md:8,xs:12,children:Object(rt.jsxs)(Ke.a,{children:[0===s.length&&Object(rt.jsx)(At.a,{severity:"info",children:"Cart is empty."}),s.map((function(e){return Object(rt.jsx)(a.Fragment,{children:Object(rt.jsxs)(Xe.a,{button:!0,component:l.b,to:"/product/".concat(e.product),children:[Object(rt.jsx)(Ft.a,{children:Object(rt.jsx)(zt.a,{alt:e.name,src:e.image})}),Object(rt.jsx)(qt.a,{primary:e.name,secondary:e.brand}),Object(rt.jsxs)(Bt.a,{children:[Object(rt.jsxs)(Lt.a,{variant:"outlined",style:{marginRight:18},children:[Object(rt.jsx)(kt.a,{id:"qty",children:"Qunatity"}),Object(rt.jsx)(Wt.a,{labelId:"qty",value:e.qty,onChange:function(t){return n(Mt(e.product,Number(t.target.value)))},id:"qty",label:"Qunatity",children:Object(q.a)(Array(e.countInStock).keys()).map((function(e){return Object(rt.jsx)(qe.a,{value:e+1,children:e+1},e+1)}))})]}),Object(rt.jsx)(Ye.a,{edge:"end",onClick:function(){return o(e._id)},children:Object(rt.jsx)(Qt.a,{})})]})]})},e.product)}))]})}),Object(rt.jsx)(ft.a,{item:!0,lg:3,md:4,xs:12,children:Object(rt.jsxs)(Ke.a,{children:[Object(rt.jsx)(Xe.a,{component:Je.a,variant:"h5",children:"Cart Items"}),Object(rt.jsx)(Be.a,{}),Object(rt.jsxs)(Xe.a,{component:Je.a,variant:"h6",children:["Total Items: ",s.reduce((function(e,t){return e+t.qty}),0)]}),Object(rt.jsxs)(Xe.a,{component:Je.a,variant:"h6",children:["Total Price:"," ",s.reduce((function(e,t){return e+t.qty*t.price}),0).toFixed(2)]}),Object(rt.jsx)(Xe.a,{children:Object(rt.jsx)(Ze.a,{fullWidth:!0,size:"large",color:"primary",variant:"contained",disabled:0===s.length,component:l.b,to:"/shipping",children:"Proceed to checkout"})})]})})]})]})},Yt=r(226),Jt=r(227),Vt=r(228),Ht=r(229),Zt=r(230),$t=r(231),Kt=function(e){var t=e.history,r=Object(h.b)(),n=Object(a.useState)(""),c=Object(i.a)(n,2),s=c[0],d=c[1],u=Object(a.useState)(""),j=Object(i.a)(u,2),p=j[0],b=j[1],O=Object(a.useState)(""),m=Object(i.a)(O,2),x=m[0],g=m[1],f=Object(a.useState)(""),y=Object(i.a)(f,2),v=y[0],S=y[1],E=Object(a.useState)(null),_=Object(i.a)(E,2),I=_[0],C=_[1],D=Object(h.c)((function(e){return e.userLogin})).userInfo,R=Object(h.c)((function(e){return e.userProfileDetails})),T=R.loading,P=R.userDetails,A=R.error,U=Object(h.c)((function(e){return e.userProfileUpdate})),w=U.loading,L=U.success,k=U.error,W=Object(h.c)((function(e){return e.userOrdersList})),N=W.loading,F=W.orders,z=W.error;Object(a.useEffect)((function(){D?(!P.name||L?(r(function(){var e=Object(ht.a)(bt.a.mark((function e(t,r){var a,n,c,i,s;return bt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:re}),a=r(),n=a.userLogin.userInfo,c={headers:{Authorization:"Bearer ".concat(n.token)}},e.next=6,mt.a.get("/api/users/profile/my",c);case 6:i=e.sent,s=i.data,t({type:ae,payload:s}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),t({type:ne,payload:e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message});case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,r){return e.apply(this,arguments)}}()),r({type:le}),g(""),S("")):(d(P.name),b(P.email)),r(function(){var e=Object(ht.a)(bt.a.mark((function e(t,r){var a,n,c,i,s;return bt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:Te}),a=r(),n=a.userLogin.userInfo,c={headers:{Authorization:"Bearer ".concat(n.token)}},e.next=6,mt.a.get("/api/orders",c);case 6:i=e.sent,s=i.data,t({type:Pe,payload:s}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),t({type:Ae,payload:e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message});case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,r){return e.apply(this,arguments)}}())):t.push("/login")}),[D,t,P,r,L]);return Object(rt.jsx)(o.a,{maxWidth:"lg",style:{marginTop:30},children:Object(rt.jsxs)(ft.a,{container:!0,style:{marginTop:20},spacing:3,children:[T?Object(rt.jsx)(It,{}):A?Object(rt.jsx)(At.a,{severity:"error",children:A}):Object(rt.jsxs)(ft.a,{item:!0,md:4,xs:12,children:[L&&Object(rt.jsx)(At.a,{severity:"success",children:"Profile Update."}),k&&Object(rt.jsx)(At.a,{severity:"error",children:k}),I&&Object(rt.jsx)(At.a,{severity:"error",children:I}),Object(rt.jsx)(Je.a,{variant:"h4",children:"Profile"}),Object(rt.jsxs)(Ve.a,{display:"flex",flexDirection:"column",component:"form",onSubmit:function(e){var t;e.preventDefault(),x!==v?C("Password do not match"):r((t={name:s,email:p,password:x},function(){var e=Object(ht.a)(bt.a.mark((function e(r,a){var n,c,i;return bt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r({type:ie}),n=a(),c=n.userLogin.userInfo,i={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(c.token)}},e.next=6,mt.a.put("/api/users/profile",t,i);case 6:r({type:se}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),r({type:oe,payload:e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,r){return e.apply(this,arguments)}}()))},children:[Object(rt.jsx)(dt.a,{variant:"outlined",color:"primary",label:"Name",placeholder:"Name",value:s,onChange:function(e){return d(e.target.value)},margin:"normal",type:"text"}),Object(rt.jsx)(dt.a,{type:"email",variant:"outlined",color:"primary",label:"Email",value:p,onChange:function(e){return b(e.target.value)},placeholder:"Email",margin:"normal"}),Object(rt.jsx)(dt.a,{type:"password",variant:"outlined",color:"primary",label:"Password",value:x,onChange:function(e){return g(e.target.value)},placeholder:"Password",margin:"normal"}),Object(rt.jsx)(dt.a,{type:"password",variant:"outlined",color:"primary",label:"Confirm Password",value:v,onChange:function(e){return S(e.target.value)},placeholder:"Confirm Password",margin:"normal"}),Object(rt.jsxs)(Ze.a,{color:"primary",variant:"contained",fullWidth:!0,style:{marginTop:15},type:"submit",disabled:w,children:[w&&Object(rt.jsx)(_t.a,{color:"inherit",size:20}),"\xa0 \xa0 Update Profile"]})]})]}),Object(rt.jsxs)(ft.a,{item:!0,md:8,xs:12,children:[Object(rt.jsx)(Je.a,{variant:"h4",children:"My Orders"}),N?Object(rt.jsx)(It,{}):z?Object(rt.jsx)(At.a,{severity:"error",children:z}):Object(rt.jsx)(Yt.a,{component:Ve.a,children:Object(rt.jsxs)(Jt.a,{children:[Object(rt.jsx)(Vt.a,{children:Object(rt.jsxs)(Ht.a,{children:[Object(rt.jsx)(Zt.a,{children:"ID"}),Object(rt.jsx)(Zt.a,{children:"Order Date"}),Object(rt.jsx)(Zt.a,{children:"Paid"}),Object(rt.jsx)(Zt.a,{children:"Delivered"}),Object(rt.jsx)(Zt.a,{align:"right",children:"Details"})]})}),Object(rt.jsx)($t.a,{children:F.map((function(e){return Object(rt.jsxs)(Ht.a,{children:[Object(rt.jsx)(Zt.a,{children:e._id}),Object(rt.jsx)(Zt.a,{children:e.createdAt.split("T")[0]}),Object(rt.jsx)(Zt.a,{children:e.isPaid?"YES":"NOT"}),Object(rt.jsx)(Zt.a,{children:e.isDelivered?"YES":"NOT"}),Object(rt.jsx)(Zt.a,{align:"right",children:Object(rt.jsx)(Ze.a,{variant:"contained",size:"small",color:"primary",component:l.b,to:"/order/".concat(e._id),children:"Details"})})]},e._id)}))})]})})]})]})})},Xt=r(253),er=r(232),tr=r(246),rr=function(e){var t=e.step1,r=e.step2,a=e.step3,n=e.step4;return Object(rt.jsxs)(Xt.a,{alternativeLabel:!0,nonLinear:!0,style:{backgroundColor:"inherit"},children:[Object(rt.jsx)(er.a,{active:t,disabled:!t,children:Object(rt.jsx)(tr.a,{component:l.b,to:"/login",children:"Login"})}),Object(rt.jsx)(er.a,{active:r,disabled:!r,children:Object(rt.jsx)(tr.a,{component:l.b,to:"/shipping",children:"Shipping"})}),Object(rt.jsx)(er.a,{active:a,disabled:!a,children:Object(rt.jsx)(tr.a,{component:l.b,to:"/payment",children:"Payment"})}),Object(rt.jsx)(er.a,{active:n,disabled:!n,children:Object(rt.jsx)(tr.a,{component:l.b,to:"/placeorder",children:"Order"})})]})},ar=function(e){var t=e.history,r=Object(h.b)(),n=Object(a.useState)(""),c=Object(i.a)(n,2),s=c[0],o=c[1],l=Object(a.useState)(""),d=Object(i.a)(l,2),u=d[0],j=d[1],p=Object(a.useState)(""),b=Object(i.a)(p,2),O=b[0],m=b[1],x=Object(a.useState)(""),g=Object(i.a)(x,2),f=g[0],y=g[1],v=Object(h.c)((function(e){return e.userLogin})).userInfo,S=Object(h.c)((function(e){return e.cart})).shippingAddress;Object(a.useEffect)((function(){v?(o(S.address),j(S.city),m(S.pin),y(S.country)):t.push("/login")}),[v,t,S]);return Object(rt.jsxs)(Pt,{children:[Object(rt.jsx)(rr,{step1:!0,step2:!0}),Object(rt.jsx)(Je.a,{variant:"h4",children:"Shipping Address"}),Object(rt.jsxs)(Ve.a,{component:"form",mt:1,onSubmit:function(e){var a;e.preventDefault(),r((a={address:s,city:u,pin:O,country:f},function(){var e=Object(ht.a)(bt.a.mark((function e(t){return bt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:G}),t({type:Y,payload:a}),localStorage.setItem("shippingAddress",JSON.stringify(a));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())),t.push("/payment")},children:[Object(rt.jsx)(dt.a,{placeholder:"Enter Address",label:"Address",variant:"outlined",color:"primary",fullWidth:!0,type:"text",margin:"normal",value:s,onChange:function(e){return o(e.target.value)},required:!0}),Object(rt.jsx)(dt.a,{placeholder:"Enter City",label:"City",variant:"outlined",color:"primary",fullWidth:!0,type:"text",margin:"normal",value:u,onChange:function(e){return j(e.target.value)},required:!0}),Object(rt.jsx)(dt.a,{placeholder:"Enter pin",label:"Pin Code",variant:"outlined",color:"primary",fullWidth:!0,type:"text",margin:"normal",value:O,onChange:function(e){return m(e.target.value)},required:!0}),Object(rt.jsx)(dt.a,{placeholder:"Enter Country",label:"Country",variant:"outlined",color:"primary",fullWidth:!0,type:"text",margin:"normal",value:f,onChange:function(e){return y(e.target.value)},required:!0}),Object(rt.jsxs)(Ze.a,{type:"submit",variant:"contained",color:"primary",fullWidth:!0,size:"large",style:{marginTop:10},children:["\xa0\xa0 ","Proceed to Payment"]})]})]})},nr=r(233),cr=r(242),ir=function(e){var t=e.history,r=Object(h.b)(),n=Object(a.useState)("PayPal"),c=Object(i.a)(n,2),s=c[0],o=(c[1],Object(h.c)((function(e){return e.userLogin})).userInfo),l=Object(h.c)((function(e){return e.cart})).shippingAddress;Object(a.useEffect)((function(){o?l.address||t.push("/shipping"):t.push("/login")}),[o,t,l]);return Object(rt.jsxs)(Pt,{children:[Object(rt.jsx)(rr,{step1:!0,step2:!0,step3:!0}),Object(rt.jsx)(Je.a,{variant:"h4",children:"Payment Method"}),Object(rt.jsxs)(Ve.a,{component:"form",mt:1,onSubmit:function(e){var a;e.preventDefault(),r((a=s,function(){var e=Object(ht.a)(bt.a.mark((function e(t){return bt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:J,payload:a}),localStorage.setItem("paymentMethod",a);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())),t.push("/placeorder")},children:[Object(rt.jsx)(nr.a,{value:s,control:Object(rt.jsx)(cr.a,{checked:!0}),label:"PayPal",checked:!0}),Object(rt.jsxs)(Ze.a,{type:"submit",variant:"contained",color:"primary",fullWidth:!0,size:"large",style:{marginTop:10},children:["\xa0\xa0 ","Place Order"]})]})]})},sr=r(79),or=function(e){return function(){var t=Object(ht.a)(bt.a.mark((function t(r,a){var n,c,i,s,o;return bt.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r({type:Se}),n=a(),c=n.userLogin.userInfo,i={headers:{Authorization:"Bearer ".concat(c.token)}},t.next=6,mt.a.get("/api/orders/".concat(e),i);case 6:s=t.sent,o=s.data,r({type:Ee,payload:o}),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),r({type:_e,payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e,r){return t.apply(this,arguments)}}()},lr=function(e){var t=e.history,r=Object(h.b)(),n=Object(h.c)((function(e){return e.cart})),c=n.cartItems,i=n.shippingAddress,s=n.payment,o=Object(h.c)((function(e){return e.placeNewOrder})),l=o.loading,d=o.newOrder,u=o.error;n.itemsPrice=c.reduce((function(e,t){return e+t.price}),0),n.shippingPrice=n.itemsPrice>999?0:99,n.taxPrice=(.18*n.itemsPrice).toFixed(2),n.totalPrice=(Number(n.itemsPrice)+Number(n.shippingPrice)+Number(n.taxPrice)).toFixed(2),Object(a.useEffect)((function(){d&&t.push("/order/".concat(d._id))}),[d,t]);return Object(rt.jsx)(Ve.a,{mt:5,children:Object(rt.jsxs)(ft.a,{container:!0,justify:"center",children:[Object(rt.jsx)(ft.a,{item:!0,xs:12,children:Object(rt.jsx)(rr,{step1:!0,step2:!0,step3:!0,step4:!0})}),Object(rt.jsxs)(ft.a,{item:!0,lg:6,md:7,xs:12,children:[Object(rt.jsx)(Je.a,{variant:"h4",style:{marginBottom:26},children:"Place Order"}),Object(rt.jsxs)(ft.a,{container:!0,children:[Object(rt.jsxs)(ft.a,{component:Ve.a,display:"flex",flexDirection:"column",item:!0,xs:12,children:[Object(rt.jsx)(Je.a,{variant:"h6",children:"Shipping"}),Object(rt.jsxs)(Je.a,{paragraph:!0,style:{color:sr.a[600]},children:["Address:"," ","".concat(i.address,", ").concat(i.city," Pin: ").concat(i.pin,", ").concat(i.country)]})]}),Object(rt.jsx)(Be.a,{}),Object(rt.jsxs)(ft.a,{item:!0,component:Ve.a,display:"flex",flexDirection:"column",xs:12,children:[Object(rt.jsx)(Je.a,{variant:"h6",children:"Payment Method"}),Object(rt.jsxs)(Je.a,{paragraph:!0,style:{color:sr.a[600]},children:["Method: ",s]})]}),Object(rt.jsx)(Be.a,{}),Object(rt.jsxs)(ft.a,{item:!0,component:Ve.a,display:"flex",flexDirection:"column",xs:12,children:[Object(rt.jsx)(Je.a,{variant:"h5",children:"Order Items"}),Object(rt.jsx)(Ke.a,{children:c.map((function(e){return Object(rt.jsx)(a.Fragment,{children:Object(rt.jsxs)(Xe.a,{button:!0,children:[Object(rt.jsx)(Ft.a,{children:Object(rt.jsx)(zt.a,{alt:e.name,src:e.image})}),Object(rt.jsx)(qt.a,{primary:e.name,secondary:e.brand})]})},e._id)}))})]})]})]}),Object(rt.jsxs)(ft.a,{item:!0,lg:3,md:3,xs:12,children:[Object(rt.jsx)(Je.a,{style:{marginLeft:11},variant:"h4",children:"Order"}),Object(rt.jsxs)(Ke.a,{children:[Object(rt.jsxs)(Xe.a,{children:[Object(rt.jsx)(qt.a,{children:"Item(s) Price:"}),Object(rt.jsxs)(Bt.a,{children:["Rs.",n.itemsPrice]})]}),Object(rt.jsxs)(Xe.a,{children:[Object(rt.jsx)(qt.a,{children:"Tax Price:"}),Object(rt.jsxs)(Bt.a,{children:["Rs.",n.taxPrice]})]}),Object(rt.jsxs)(Xe.a,{children:[Object(rt.jsx)(qt.a,{children:"Shipping Price:"}),Object(rt.jsxs)(Bt.a,{children:["Rs.",n.shippingPrice]})]}),Object(rt.jsxs)(Xe.a,{children:[Object(rt.jsx)(qt.a,{children:"Total Price:"}),Object(rt.jsxs)(Bt.a,{children:["Rs.",n.totalPrice]})]}),Object(rt.jsxs)(Xe.a,{component:Ve.a,display:"flex",flexDirection:"column",children:[u&&Object(rt.jsx)(At.a,{severity:"error",style:{marginBottom:12},children:u}),Object(rt.jsxs)(Ze.a,{variant:"contained",color:"primary",onClick:function(){var e;r((e={orderItems:c,shippingAddress:i,paymentMethod:s,itemsPrice:n.itemsPrice,shippingPrice:n.shippingPrice,taxPrice:n.taxPrice,totalPrice:n.totalPrice},function(){var t=Object(ht.a)(bt.a.mark((function t(r,a){var n,c,i,s,o;return bt.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r({type:fe}),n=a(),c=n.userLogin.userInfo,i={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(c.token)}},t.next=6,mt.a.post("/api/orders/",e,i);case 6:s=t.sent,o=s.data,r({type:ye,payload:o}),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),r({type:ve,payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e,r){return t.apply(this,arguments)}}()))},fullWidth:!0,disabled:l,children:[l&&Object(rt.jsx)(_t.a,{color:"inherit",size:20}),"\xa0 \xa0","Place Order"]})]})]})]})]})})},dr=function(e){var t=e.history,r=e.match.params.id,n=Object(h.b)(),c=Object(h.c)((function(e){return e.userLogin})).userInfo,i=Object(h.c)((function(e){return e.orderDetails})),s=i.loading,o=i.order,d=i.error,u=Object(h.c)((function(e){return e.orderDelivery})),j=u.loading,p=u.success,b=u.error;Object(a.useEffect)((function(){c||t.push("/login"),p&&n(or(r)),n(or(r))}),[c,t,n,r,p]);return s?Object(rt.jsx)(It,{}):d?Object(rt.jsx)(At.a,{severity:"error",children:d}):Object(rt.jsx)(Ve.a,{mt:5,children:Object(rt.jsxs)(ft.a,{container:!0,justify:"center",children:[Object(rt.jsxs)(ft.a,{item:!0,md:7,xs:12,children:[Object(rt.jsxs)(Je.a,{variant:"h4",style:{marginBottom:26},children:["ORDER ID ",o._id]}),Object(rt.jsxs)(ft.a,{container:!0,children:[Object(rt.jsxs)(ft.a,{component:Ve.a,display:"flex",flexDirection:"column",item:!0,xs:12,children:[Object(rt.jsx)(Je.a,{variant:"h6",children:"Customer"}),Object(rt.jsxs)(Je.a,{paragraph:!0,style:{color:sr.a[600],marginBottom:0},children:["Name: ",o.user.name]}),Object(rt.jsxs)(Je.a,{component:"a",paragraph:!0,href:"mailto:".concat(o.user.email),style:{color:sr.a[700],paddingTop:0},children:["Email: ",o.user.email]})]}),Object(rt.jsxs)(ft.a,{component:Ve.a,display:"flex",flexDirection:"column",item:!0,xs:12,children:[Object(rt.jsx)(Je.a,{variant:"h6",children:"Shipping"}),Object(rt.jsxs)(Je.a,{paragraph:!0,style:{color:sr.a[600]},children:["Address:"," ","".concat(o.shippingAddress.address,", ").concat(o.shippingAddress.city," Pin: ").concat(o.shippingAddress.pin,", ").concat(o.shippingAddress.country)]}),Object(rt.jsx)(At.a,{style:{marginBottom:12},severity:o.isDelivered?"success":"error",children:o.isDelivered?o.deliveredAt:"Not delivered yet"})]}),Object(rt.jsx)(Be.a,{}),Object(rt.jsxs)(ft.a,{item:!0,component:Ve.a,display:"flex",flexDirection:"column",xs:12,children:[Object(rt.jsx)(Je.a,{variant:"h6",children:"Payment Method"}),Object(rt.jsxs)(Je.a,{paragraph:!0,style:{color:sr.a[600]},children:["Method: ",o.paymentMethod]}),Object(rt.jsx)(At.a,{style:{marginBottom:12},severity:o.isPaid?"success":"error",children:o.isPaid?o.paidAt:"Not paid yet"})]}),Object(rt.jsx)(Be.a,{}),Object(rt.jsxs)(ft.a,{item:!0,component:Ve.a,display:"flex",flexDirection:"column",xs:12,children:[Object(rt.jsx)(Je.a,{variant:"h5",children:"Order Items"}),Object(rt.jsx)(Ke.a,{children:o.orderItems.map((function(e){return Object(rt.jsx)(a.Fragment,{children:Object(rt.jsxs)(Xe.a,{button:!0,component:l.b,to:"/product/".concat(e.product),children:[Object(rt.jsx)(Ft.a,{children:Object(rt.jsx)(zt.a,{alt:e.name,src:e.image})}),Object(rt.jsx)(qt.a,{primary:e.name,secondary:e.brand})]})},e._id)}))})]})]})]}),Object(rt.jsxs)(ft.a,{item:!0,md:3,xs:12,children:[Object(rt.jsx)(Je.a,{style:{marginLeft:11},variant:"h4",children:"Order"}),Object(rt.jsxs)(Ke.a,{children:[Object(rt.jsxs)(Xe.a,{children:[Object(rt.jsx)(qt.a,{children:"Item(s) Price:"}),Object(rt.jsxs)(Bt.a,{children:["Rs.",o.itemsPrice]})]}),Object(rt.jsxs)(Xe.a,{children:[Object(rt.jsx)(qt.a,{children:"Tax Price:"}),Object(rt.jsxs)(Bt.a,{children:["Rs.",o.taxPrice]})]}),Object(rt.jsxs)(Xe.a,{children:[Object(rt.jsx)(qt.a,{children:"Shipping Price:"}),Object(rt.jsxs)(Bt.a,{children:["Rs.",o.shippingPrice]})]}),Object(rt.jsxs)(Xe.a,{children:[Object(rt.jsx)(qt.a,{children:"Total Price:"}),Object(rt.jsxs)(Bt.a,{children:["Rs.",o.totalPrice]})]}),Object(rt.jsxs)(Xe.a,{component:Ve.a,display:"flex",flexDirection:"column",children:[b&&Object(rt.jsx)(At.a,{severity:"error",style:{marginBottom:12},children:b}),c&&Object(rt.jsxs)(Ze.a,{variant:"contained",color:"primary",fullWidth:!0,onClick:function(){var e;n((e=r,function(){var t=Object(ht.a)(bt.a.mark((function t(r,a){var n,c,i;return bt.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r({type:Ie}),n=a(),c=n.userLogin.userInfo,i={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(c.token)}},t.next=6,mt.a.put("/api/orders/".concat(e),{},i);case 6:r({type:Ce}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),r({type:De,payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e,r){return t.apply(this,arguments)}}()))},disabled:j||o.isDelivered,style:{display:c.isAdmin?"block":"none"},children:[j&&Object(rt.jsx)(_t.a,{color:"inherit",size:20}),"\xa0 \xa0","Mark As Delivered"]})]})]})]})]})})},ur=r(235),jr=r(234),pr=r(236),br=function(e){var t=e.history,r=Object(h.b)(),n=Object(h.c)((function(e){return e.userLogin})).userInfo,c=Object(h.c)((function(e){return e.productsList})),i=c.loading,s=c.products,o=c.error,d=Object(h.c)((function(e){return e.createNewProduct})),u=d.loading,j=d.success,p=d.newProduct,b=d.error,O=Object(h.c)((function(e){return e.deleteProduct})),m=O.loading,x=O.success,g=O.error;Object(a.useEffect)((function(){r({type:D}),r({type:A}),n&&n.isAdmin?r(Dt()):t.push("/login"),j&&t.push("/admin/products/".concat(p._id)),x&&r(Dt())}),[n,t,j,x,r,p]);var f=function(e){r(function(e){return function(){var t=Object(ht.a)(bt.a.mark((function t(r,a){var n,c,i;return bt.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r({type:R}),n=a(),c=n.userLogin.userInfo,i={headers:{Authorization:"Bearer ".concat(c.token)}},t.next=6,mt.a.delete("/api/products/".concat(e),i);case 6:r({type:T}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),r({type:P,payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e,r){return t.apply(this,arguments)}}()}(e))};return Object(rt.jsxs)(ft.a,{container:!0,justify:"center",style:{marginTop:16},children:[m&&Object(rt.jsx)(It,{}),Object(rt.jsxs)(ft.a,{item:!0,xs:12,component:Ve.a,display:"flex",flexDirection:"row",children:[b&&Object(rt.jsx)(At.a,{severity:"error",children:b}),g&&Object(rt.jsx)(At.a,{severity:"error",children:g}),x&&Object(rt.jsx)(At.a,{severity:"success",children:"Product removed."}),Object(rt.jsx)(Je.a,{variant:"h3",children:"Products"}),Object(rt.jsx)(Ze.a,{variant:"contained",color:"primary",style:{marginLeft:"auto"},onClick:function(){r(function(){var e=Object(ht.a)(bt.a.mark((function e(t,r){var a,n,c,i,s;return bt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:_}),a=r(),n=a.userLogin.userInfo,c={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(n.token)}},e.next=6,mt.a.post("/api/products",{},c);case 6:i=e.sent,s=i.data,t({type:I,payload:s}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),t({type:C,payload:e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message});case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,r){return e.apply(this,arguments)}}())},children:u?Object(rt.jsxs)(rt.Fragment,{children:[Object(rt.jsx)(_t.a,{size:25,color:"inherit"}),"\xa0","Creating..."]}):Object(rt.jsxs)(rt.Fragment,{children:[Object(rt.jsx)(jr.a,{}),"\xa0Add Product"]})})]}),i?Object(rt.jsx)(It,{}):o?Object(rt.jsx)(At.a,{severity:"error",children:o}):Object(rt.jsx)(ft.a,{item:!0,xs:12,style:{marginTop:10},children:Object(rt.jsx)(Yt.a,{children:Object(rt.jsxs)(Jt.a,{children:[Object(rt.jsx)(Vt.a,{children:Object(rt.jsxs)(Ht.a,{children:[Object(rt.jsx)(Zt.a,{align:"center",children:"ID"}),Object(rt.jsx)(Zt.a,{align:"center",children:"Name"}),Object(rt.jsx)(Zt.a,{align:"center",children:"In Stock"}),Object(rt.jsx)(Zt.a,{align:"center",children:"Price"}),Object(rt.jsx)(Zt.a,{align:"center",children:"Actions"})]})}),Object(rt.jsx)($t.a,{children:s.map((function(e){return Object(rt.jsxs)(Ht.a,{children:[Object(rt.jsx)(Zt.a,{align:"center",children:e._id}),Object(rt.jsx)(Zt.a,{align:"center",children:e.name}),Object(rt.jsx)(Zt.a,{align:"center",children:e.countInStock>0?e.countInStock:"OUT OF STOCK"}),Object(rt.jsx)(Zt.a,{align:"center",children:e.price}),Object(rt.jsx)(Zt.a,{align:"center",children:Object(rt.jsxs)(ur.a,{size:"small","aria-label":"small outlined button group",children:[Object(rt.jsx)(Ze.a,{variant:"contained",color:"secondary",component:l.b,to:"/admin/products/".concat(e._id),children:Object(rt.jsx)(pr.a,{})}),Object(rt.jsx)(Ze.a,{variant:"contained",color:"primary",onClick:function(){return f(e._id)},children:Object(rt.jsx)(Qt.a,{})})]})})]},e._id)}))})]})})})]})},hr=function(e){var t=e.history,r=Object(h.b)(),n=Object(h.c)((function(e){return e.userLogin})).userInfo,c=Object(h.c)((function(e){return e.listUsers})),i=c.loading,s=c.users,o=c.error;return Object(a.useEffect)((function(){n&&n.isAdmin||t.push("/login"),r(function(){var e=Object(ht.a)(bt.a.mark((function e(t,r){var a,n,c,i,s;return bt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:de}),a=r(),n=a.userLogin.userInfo,c={headers:{Authorization:"Bearer ".concat(n.token)}},e.next=6,mt.a.get("/api/users",c);case 6:i=e.sent,s=i.data,t({type:ue,payload:s}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),t({type:je,payload:e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message});case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,r){return e.apply(this,arguments)}}())}),[n,t,r]),i?Object(rt.jsx)(It,{}):o?Object(rt.jsx)(At.a,{severity:"error",children:o}):Object(rt.jsxs)(ft.a,{container:!0,justify:"center",style:{marginTop:16},children:[Object(rt.jsx)(ft.a,{item:!0,xs:10,children:Object(rt.jsx)(Je.a,{variant:"h3",children:"Users"})}),Object(rt.jsx)(ft.a,{item:!0,xs:10,style:{marginTop:10},children:Object(rt.jsx)(Yt.a,{children:Object(rt.jsxs)(Jt.a,{children:[Object(rt.jsx)(Vt.a,{children:Object(rt.jsxs)(Ht.a,{children:[Object(rt.jsx)(Zt.a,{align:"center",children:"ID"}),Object(rt.jsx)(Zt.a,{align:"center",children:"Name"}),Object(rt.jsx)(Zt.a,{align:"center",children:"Admin"}),Object(rt.jsx)(Zt.a,{align:"center",children:"Date"}),Object(rt.jsx)(Zt.a,{align:"center",children:"Actions"})]})}),Object(rt.jsx)($t.a,{children:s.map((function(e){return Object(rt.jsxs)(Ht.a,{children:[Object(rt.jsx)(Zt.a,{align:"center",children:e._id}),Object(rt.jsx)(Zt.a,{align:"center",children:e.name}),Object(rt.jsx)(Zt.a,{align:"center",children:e.isAdmin?"YES":"NO"}),Object(rt.jsx)(Zt.a,{align:"center",children:e.createdAt.split("T")[0]}),Object(rt.jsx)(Zt.a,{align:"center",children:Object(rt.jsx)(ur.a,{size:"small","aria-label":"small outlined button group",children:Object(rt.jsx)(Ze.a,{variant:"contained",color:"secondary",component:l.b,to:"/admin/users/edit/".concat(e._id),children:Object(rt.jsx)(pr.a,{})})})})]},e._id)}))})]})})})]})},Or=function(e){var t=e.history,r=Object(h.b)(),n=Object(h.c)((function(e){return e.userLogin})).userInfo,c=Object(h.c)((function(e){return e.ordersList})),i=c.loading,s=c.orders,o=c.error;return Object(a.useEffect)((function(){n&&n.isAdmin||t.push("/login"),r(function(){var e=Object(ht.a)(bt.a.mark((function e(t,r){var a,n,c,i,s;return bt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:Ue}),a=r(),n=a.userLogin.userInfo,c={headers:{Authorization:"Bearer ".concat(n.token)}},e.next=6,mt.a.get("/api/orders/all",c);case 6:i=e.sent,s=i.data,t({type:we,payload:s}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),t({type:Le,payload:e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message});case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,r){return e.apply(this,arguments)}}())}),[n,t,r]),i?Object(rt.jsx)(It,{}):o?Object(rt.jsx)(At.a,{severity:"error",children:o}):Object(rt.jsxs)(ft.a,{container:!0,justify:"center",style:{marginTop:16},children:[Object(rt.jsx)(ft.a,{item:!0,xs:10,children:Object(rt.jsx)(Je.a,{variant:"h3",children:"Orders"})}),Object(rt.jsx)(ft.a,{item:!0,xs:10,style:{marginTop:10},children:Object(rt.jsx)(Yt.a,{children:Object(rt.jsxs)(Jt.a,{children:[Object(rt.jsx)(Vt.a,{children:Object(rt.jsxs)(Ht.a,{children:[Object(rt.jsx)(Zt.a,{align:"center",children:"ID"}),Object(rt.jsx)(Zt.a,{align:"center",children:"Email"}),Object(rt.jsx)(Zt.a,{align:"center",children:"Date"}),Object(rt.jsx)(Zt.a,{align:"center",children:"Paid"}),Object(rt.jsx)(Zt.a,{align:"center",children:"Delivered"}),Object(rt.jsx)(Zt.a,{align:"center",children:"Actions"})]})}),Object(rt.jsx)($t.a,{children:s.map((function(e){return Object(rt.jsxs)(Ht.a,{children:[Object(rt.jsx)(Zt.a,{align:"center",children:e._id}),Object(rt.jsx)(Zt.a,{align:"center",children:Object(rt.jsx)("a",{href:"mailto:".concat(e.user.email),style:{color:"inherit"},children:e.user.email})}),Object(rt.jsx)(Zt.a,{align:"center",children:e.createdAt.split("T")[0]}),Object(rt.jsx)(Zt.a,{align:"center",children:e.isPaid?"YES":"NO"}),Object(rt.jsx)(Zt.a,{align:"center",children:e.isDelivered?"YES":"NO"}),Object(rt.jsx)(Zt.a,{align:"center",children:Object(rt.jsx)(Ze.a,{variant:"contained",color:"primary",size:"small",component:l.b,to:"/order/".concat(e._id),children:"Details"})})]},e._id)}))})]})})})]})},mr=r(248),xr=function(e){var t=e.match,r=e.history,n=t.params.id,c=Object(h.b)(),s=Object(a.useState)(""),o=Object(i.a)(s,2),l=o[0],d=o[1],u=Object(a.useState)(""),j=Object(i.a)(u,2),p=j[0],b=j[1],O=Object(a.useState)(!1),m=Object(i.a)(O,2),x=m[0],g=m[1],f=Object(h.c)((function(e){return e.userLogin})).userInfo,y=Object(h.c)((function(e){return e.userDetails})),v=y.loading,S=y.user,E=y.error;Object(a.useEffect)((function(){var e;f||r.push("/login"),S.name&&S._id===n?(d(S.name),b(S.email),g(S.isAdmin)):c((e=n,function(){var t=Object(ht.a)(bt.a.mark((function t(r,a){var n,c,i,s,o;return bt.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r({type:pe}),n=a(),c=n.userLogin.userInfo,i={headers:{Authorization:"Bearer ".concat(c.token)}},t.next=6,mt.a.get("/api/users/".concat(e),i);case 6:s=t.sent,o=s.data,r({type:be,payload:o}),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),r({type:he,payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e,r){return t.apply(this,arguments)}}()))}),[f,r,c,S,n]);return Object(rt.jsx)(Ve.a,{mt:10,children:Object(rt.jsx)(ft.a,{container:!0,justify:"center",children:Object(rt.jsxs)(ft.a,{item:!0,lg:4,md:5,xs:11,children:[Object(rt.jsx)(Je.a,{variant:"h3",color:"primary",children:"Edit User"}),v&&Object(rt.jsx)(It,{}),E&&Object(rt.jsx)(At.a,{severity:"error",children:E}),Object(rt.jsxs)(Ve.a,{component:"form",display:"flex",flexDirection:"column",onSubmit:function(e){e.preventDefault(),c(function(e,t){return function(){var r=Object(ht.a)(bt.a.mark((function r(a,n){var c,i,s,o,l;return bt.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,a({type:Oe}),c=n(),i=c.userLogin.userInfo,s={headers:{Authorization:"Bearer ".concat(i.token)}},r.next=6,mt.a.put("/api/users/".concat(e),t,s);case 6:o=r.sent,l=o.data,a({type:me,payload:l}),r.next=14;break;case 11:r.prev=11,r.t0=r.catch(0),a({type:xe,payload:r.t0.response&&r.t0.response.data.message?r.t0.response.data.message:r.t0.message});case 14:case"end":return r.stop()}}),r,null,[[0,11]])})));return function(e,t){return r.apply(this,arguments)}}()}(n,{name:l,email:p,isAdmin:x})),r.push("/admin/users"),c({type:ge})},children:[Object(rt.jsx)(dt.a,{variant:"outlined",color:"primary",label:"Name",placeholder:"Name..",margin:"normal",type:"text",value:l,onChange:function(e){return d(e.target.value)},required:!0,fullWidth:!0}),Object(rt.jsx)(dt.a,{variant:"outlined",color:"primary",label:"Email",placeholder:"Email..",margin:"normal",type:"email",value:p,onChange:function(e){return b(e.target.value)},required:!0,fullWidth:!0}),Object(rt.jsx)(nr.a,{control:Object(rt.jsx)(mr.a,{checked:x,onChange:function(e){return g(e.target.checked)},color:"primary",name:"admin"}),label:"Make As Admin"}),Object(rt.jsx)(Ze.a,{variant:"contained",color:"primary",type:"submit",style:{marginTop:8},fullWidth:!0,children:"Save"})]})]})})})},gr=r(237),fr=function(e){var t=e.match,r=e.history,n=t.params.id,c=Object(h.b)(),s=Object(a.useState)(""),o=Object(i.a)(s,2),l=o[0],d=o[1],u=Object(a.useState)(""),j=Object(i.a)(u,2),p=j[0],b=j[1],O=Object(a.useState)(""),m=Object(i.a)(O,2),x=m[0],g=m[1],f=Object(a.useState)(""),y=Object(i.a)(f,2),v=y[0],S=y[1],E=Object(a.useState)(""),_=Object(i.a)(E,2),I=_[0],C=_[1],D=Object(a.useState)(0),R=Object(i.a)(D,2),T=R[0],A=R[1],L=Object(a.useState)(0),W=Object(i.a)(L,2),N=W[0],F=W[1],z=Object(h.c)((function(e){return e.productDetails})),q=z.loading,B=z.product,M=z.error,Q=Object(h.c)((function(e){return e.updateProduct})),G=Q.loading,Y=Q.success,J=Q.error;Object(a.useEffect)((function(){c({type:k}),B&&n===B._id?(d(B.name),b(B.image),g(B.brand),S(B.category),C(B.description),A(B.price),F(B.countInStock)):c(Rt(n)),Y&&r.push("/admin/products")}),[c,n,B,Y,r]);var V=function(){var e=Object(ht.a)(bt.a.mark((function e(t){var r,a,n,c,i,s;return bt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.target.files[0],(a=new FormData).append("image",r),e.prev=3,n={headers:{"Content-Type":"multipart/form-data"}},e.next=7,mt.a.post("/api/upload",a,n);case 7:c=e.sent,i=c.data,b(i),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(3),s=e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message,console.log(s);case 16:case"end":return e.stop()}}),e,null,[[3,12]])})));return function(t){return e.apply(this,arguments)}}();return Object(rt.jsx)(Ve.a,{mt:10,children:Object(rt.jsx)(ft.a,{container:!0,justify:"center",children:Object(rt.jsxs)(ft.a,{item:!0,lg:4,md:5,xs:11,children:[Object(rt.jsx)(Je.a,{variant:"h3",color:"primary",children:"Edit Product"}),J&&Object(rt.jsx)(At.a,{severity:"error",children:J}),q?Object(rt.jsx)(It,{}):M?Object(rt.jsx)(At.a,{severity:"error",children:M}):Object(rt.jsxs)(Ve.a,{component:"form",display:"flex",flexDirection:"column",onSubmit:function(e){e.preventDefault(),c(function(e,t){return function(){var r=Object(ht.a)(bt.a.mark((function r(a,n){var c,i,s,o,l;return bt.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,a({type:U}),c=n(),i=c.userLogin.userInfo,s={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(i.token)}},r.next=6,mt.a.put("/api/products/".concat(e),t,s);case 6:o=r.sent,l=o.data,a({type:w,payload:l}),r.next=14;break;case 11:r.prev=11,r.t0=r.catch(0),a({type:P,payload:r.t0.response&&r.t0.response.data.message?r.t0.response.data.message:r.t0.message});case 14:case"end":return r.stop()}}),r,null,[[0,11]])})));return function(e,t){return r.apply(this,arguments)}}()}(n,{name:l,image:p,description:I,brand:x,category:v,price:T,countInStock:N}))},children:[Object(rt.jsx)(dt.a,{variant:"outlined",color:"primary",label:"Product Name",placeholder:"Product Name..",margin:"normal",type:"text",value:l,onChange:function(e){return d(e.target.value)},required:!0,fullWidth:!0}),Object(rt.jsx)(dt.a,{variant:"outlined",color:"primary",label:"Brand",placeholder:"Brand..",margin:"normal",type:"text",value:x,onChange:function(e){return g(e.target.value)},required:!0,fullWidth:!0}),Object(rt.jsx)(dt.a,{variant:"outlined",color:"primary",label:"Category",placeholder:"Category..",margin:"normal",type:"text",value:v,onChange:function(e){return S(e.target.value)},required:!0,fullWidth:!0}),Object(rt.jsx)(dt.a,{variant:"outlined",color:"primary",label:"Price",placeholder:"Price..",margin:"normal",type:"number",value:T,onChange:function(e){return A(e.target.value)},required:!0,fullWidth:!0}),Object(rt.jsx)(dt.a,{variant:"outlined",color:"primary",label:"Count In Stock",placeholder:"Count In Stock..",margin:"normal",type:"number",value:N,onChange:function(e){return F(e.target.value)},required:!0,fullWidth:!0}),Object(rt.jsx)(dt.a,{variant:"outlined",color:"primary",label:"Image",placeholder:"Image..",margin:"normal",type:"text",value:p,onChange:function(e){return b(e.target.value)},disabled:!0,required:!0,fullWidth:!0}),Object(rt.jsx)("input",{id:"image",style:{display:"none"},type:"file",onChange:V}),Object(rt.jsx)("label",{htmlFor:"image",children:Object(rt.jsxs)(Ze.a,{variant:"contained",color:"primary",size:"small",component:"span",children:[Object(rt.jsx)(gr.a,{size:1})," \xa0 Upload"]})}),Object(rt.jsx)(dt.a,{multiline:!0,variant:"outlined",color:"primary",label:"Product Description",placeholder:"Product Description..",margin:"normal",type:"text",rows:3,value:I,onChange:function(e){return C(e.target.value)},required:!0,fullWidth:!0}),Object(rt.jsx)(Ze.a,{variant:"contained",color:"primary",type:"submit",style:{marginTop:8},fullWidth:!0,children:G?Object(rt.jsxs)(rt.Fragment,{children:[Object(rt.jsx)(_t.a,{size:20,color:"inherit"}),"\xa0","Updating..."]}):"Update Product"})]})]})})})};var yr=function(){var e=Object(a.useState)(!1),t=Object(i.a)(e,2),r=t[0],n=t[1],c=Object(u.a)({palette:{type:r?"dark":"light",primary:{main:p.a[700]},secondary:{main:b.a[500]}}});return Object(rt.jsx)(h.a,{store:Fe,children:Object(rt.jsxs)(j.a,{theme:c,children:[Object(rt.jsx)(s.a,{}),Object(rt.jsxs)(l.a,{children:[Object(rt.jsx)(xt,{changeMode:function(){return n(!r)}}),Object(rt.jsx)(o.a,{maxWidth:"lg",children:Object(rt.jsxs)(d.c,{children:[Object(rt.jsx)(d.a,{path:"/admin/users/edit/:id",component:xr}),Object(rt.jsx)(d.a,{path:"/admin/",component:hr,exact:!0}),Object(rt.jsx)(d.a,{path:"/admin/users",component:hr,exact:!0}),Object(rt.jsx)(d.a,{path:"/admin/orders",component:Or}),Object(rt.jsx)(d.a,{path:"/admin/products/:id",component:fr}),Object(rt.jsx)(d.a,{path:"/admin/products",component:br}),Object(rt.jsx)(d.a,{path:"/order/:id",component:dr}),Object(rt.jsx)(d.a,{path:"/placeorder",component:lr}),Object(rt.jsx)(d.a,{path:"/payment",component:ir}),Object(rt.jsx)(d.a,{path:"/shipping",component:ar}),Object(rt.jsx)(d.a,{path:"/profile",component:Kt}),Object(rt.jsx)(d.a,{path:"/cart/:id?",component:Gt}),Object(rt.jsx)(d.a,{path:"/product/:id",component:Nt}),Object(rt.jsx)(d.a,{path:"/register",component:wt}),Object(rt.jsx)(d.a,{path:"/login",component:Ut}),Object(rt.jsx)(d.a,{path:"/search/:keyword",component:Tt,exact:!0}),Object(rt.jsx)(d.a,{path:"/",component:Tt,exact:!0})]})}),Object(rt.jsx)(gt,{})]})]})})};c.a.render(Object(rt.jsx)(yr,{}),document.getElementById("root"))}},[[161,1,2]]]);
//# sourceMappingURL=main.3871b85b.chunk.js.map